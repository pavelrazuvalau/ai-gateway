# –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏

## üìä Metadata

**Artifact Version:** 2.0  
**Last Adaptation Date:** 2025-01-27  
**Purpose:** –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –∑–∞–¥–∞—á–µ–π  
**How to use for AI agent:** See section "ü§ñ Instructions for AI agent" at the end of this document

---

## üî¥ –ë–ª–æ–∫–µ—Ä—ã (—Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è)

### –ë–õ–û–ö–ï–† 1: E2E —Ç–µ—Å—Ç—ã - –º–æ–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Q2.1)

- **–ü—Ä–æ–±–ª–µ–º–∞:** LiteLLM —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –¥–µ–ª–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º. –ö–∞–∫ –º–æ–∫–∞—Ç—å —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã?
- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ–ª–Ω—ã—Ö API —Ç–µ—Å—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ –º–æ–¥–µ–ª—è–º
- **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:**
  1. –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –º–æ–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É API (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)
  2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock HTTP —Å–µ—Ä–≤–µ—Ä (–Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
  3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WireMock –≤ Docker —Å–µ—Ç–∏
  4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä LiteLLM (–µ—Å–ª–∏ –µ—Å—Ç—å)
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è
- **–°–º.:** Q2.1 –≤ @IMPROVEMENT_QUESTIONS.md

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –†–∞–±–æ—Ç–∞ –Ω–∞–¥ E2E —Ç–µ—Å—Ç–∞–º–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –¥–æ —Ä–µ—à–µ–Ω–∏—è Q2.1

---

## –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è

**Quick Reference:** This artifact is part of a 4-artifact system (PLAN, CHANGELOG, QUESTIONS, SESSION_CONTEXT). For full instructions on working with this artifact, see "ü§ñ Instructions for AI agent" section at the end of this document.

**–î–∞—Ç–∞:** 2025-01-27  
**–§–æ–∫—É—Å:** E2E —Ç–µ—Å—Ç—ã - –º–æ–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤  
**–¶–µ–ª—å:** –†–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å Q2.1 –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ E2E —Ç–µ—Å—Ç–∞–º–∏

**–¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞:**

- –†–∞–±–æ—Ç–∞ –Ω–∞–¥ E2E —Ç–µ—Å—Ç–∞–º–∏ (–§–∞–∑–∞ 4, –®–∞–≥ 4.3) **–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–ê**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ E2E —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–∞:
  - ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª setup/start/stop
  - ‚úÖ Health checks –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
  - ‚úÖ HTTP endpoints –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
  - ‚úÖ –ë–∞–∑–æ–≤—ã–µ API —Ç–µ—Å—Ç—ã (–±–µ–∑ –º–æ–∫–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ –ø–æ –º–æ–∫–∞–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è –ø–æ–ª–Ω—ã—Ö API —Ç–µ—Å—Ç–æ–≤

---

## –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (last 5)

1. ‚úÖ –§–∞–∑–∞ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–∞)
2. ‚úÖ –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –º–∏–≥—Ä–∞—Ü–∏—è (–∑–∞–≤–µ—Ä—à–µ–Ω–∞)
3. ‚úÖ –§–∞–∑–∞ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∑–∞–≤–µ—Ä—à–µ–Ω–∞)
4. ‚è≥ –§–∞–∑–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - E2E —Ç–µ—Å—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã (Q2.1)
5. ‚è≥ –û–∂–∏–¥–∞–µ—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ –ø–æ –º–æ–∫–∞–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤

---

## –ê–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –§–∞–π–ª—ã –≤ —Ñ–æ–∫—É—Å–µ (—Ñ–∞–π–ª—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ–º)

- `tests/e2e/test_api_with_mocks.py` - –±–∞–∑–æ–≤—ã–µ API —Ç–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã, TODO: –º–æ–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ Q2.1)
- `tests/e2e/conftest.py` - —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤—ã (e2e_setup, e2e_containers, docker_available)
- `tests/e2e/test_full_cycle.py` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤ (setup ‚Üí start ‚Üí health checks ‚Üí stop)
- `tests/e2e/test_negative_scenarios.py` - –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≥–æ—Ç–æ–≤—ã

### –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- E2E —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫—Ä—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ –ø–æ –º–æ–∫–∞–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –º–æ–¥–µ–ª—è–º

---

## –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- E2E —Ç–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–µ—à–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞ –æ –º–æ–∫–∞—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Q2.1)
- –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ E2E —Ç–µ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–∞, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –±–µ–∑ —Ä–µ—à–µ–Ω–∏—è Q2.1
- –¢–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É API, –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –º–æ–¥–µ–ª—è–º

---

## –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- E2E —Ç–µ—Å—Ç—ã: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π Docker (–Ω–µ testcontainers)
- –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ COMPOSE_PROJECT_NAME
- Timeout: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç) –∫–∞–∫ –≤ –∫–æ–¥–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Small VPS –ø—Ä–æ—Ñ–∏–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## Artifact Links

- **PLAN:** –§–∞–∑–∞ 4, –®–∞–≥ 4.3 - E2E —Ç–µ—Å—Ç—ã (üî¥ BLOCKED)
- **QUESTIONS:** –ê–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ E2E —Ç–µ—Å—Ç–∞–º (Q2.1 üî¥ High, Q2.2 üü° Medium, Q2.3 üü° Medium)
- **CHANGELOG:** –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å - –§–∞–∑–∞ 3, –®–∞–≥ 3.3 (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤)

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚è≥ **–ö–†–ò–¢–ò–ß–ù–û:** –†–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å Q2.1: –ö–∞–∫ –º–æ–∫–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤?
2. ‚è≥ –ü–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è Q2.1 - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ E2E —Ç–µ—Å—Ç–∞–º–∏ (–¥–æ–±–∞–≤–∏—Ç—å –º–æ–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)
3. ‚è≥ –§–∞–∑–∞ 5: –ê–Ω–∞–ª–∏–∑ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ BaseService (–æ–∂–∏–¥–∞–µ—Ç –Ω–∞—á–∞–ª–∞, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ E2E —Ç–µ—Å—Ç–æ–≤)

---

## –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã

- –û–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã
- –û—á–∏—â–∞—Ç—å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ –∏–ª–∏ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∫ —Ç–µ–∫—É—â–µ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

---

## ü§ñ Instructions for AI agent

**Important:** This section contains instructions for working with this artifact. These instructions are self-sufficient and do not require external prompts or templates.

**Artifact System Overview:**

This artifact is part of a system of 4 required artifacts that work together:

1. **PLAN** (`IMPROVEMENT_PLAN.md`) - Execution roadmap with phases and steps. Contains current status, blockers references, and navigation.
2. **CHANGELOG** (`IMPROVEMENT_CHANGELOG.md`) - History of completed changes. Contains chronological entries with what, why, and results.
3. **QUESTIONS** (`IMPROVEMENT_QUESTIONS.md`) - Knowledge base for doubts and solutions. Contains active questions (blockers) and resolved questions.
4. **SESSION_CONTEXT** (`IMPROVEMENT_SESSION_CONTEXT.md`) - Current work state. Contains temporary notes, intermediate decisions, and active context.

**Artifact Relationships:**
- PLAN references blockers in QUESTIONS and recent changes in CHANGELOG
- CHANGELOG entries link to PLAN steps and related questions in QUESTIONS
- QUESTIONS link to PLAN steps and CHANGELOG entries where solutions were applied
- SESSION_CONTEXT tracks current PLAN phase/step and active questions

**When to update artifacts:**
- **PLAN**: When step status changes, when starting/completing steps, when blocked
- **CHANGELOG**: When step completes, when question is resolved, when approach changes
- **QUESTIONS**: When creating new question, when answering question
- **SESSION_CONTEXT**: When starting step, when discovering blocker, when completing step, when making intermediate decisions

**How to read artifacts (created from this template):**
1. Check "–¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è" (Current Session) for current focus and goal
2. Review "–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç—ã" (Work State) for recent actions (last 5)
3. Check "–ê–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç" (Active Context) for files in focus and target structure
4. Review "–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏" (Temporary Notes) and "–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è" (Intermediate Decisions) for context
5. Check "Artifact Links" for current phase/step and active questions
6. Review "–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏" (Next Steps) for immediate actions

**How to update artifacts (created from this template):**
1. When starting new step ‚Üí update:
   - "–¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è": Date, Focus, Goal
   - "Artifact Links": Current PLAN phase/step
   - "–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏": Immediate actions
2. When discovering blocker ‚Üí document:
   - "–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç—ã": Add blocker action
   - "–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏": Blocker details
   - "Artifact Links": Link to created question
3. When completing step ‚Üí cleanup:
   - Move relevant info from SESSION_CONTEXT to CHANGELOG
   - Clear temporary notes (move to CHANGELOG if important)
   - Clear intermediate decisions (move to CHANGELOG if important)
   - Remove completed actions from "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è"
   - Update "Artifact Links" to reflect completion
   - Update "–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏" for next step
4. When making intermediate decision ‚Üí document:
   - "–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è": Add decision with rationale
5. Update "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è" (keep last 5):
   - Add new action at the top
   - Remove oldest if more than 5
   - Use status icons: ‚úÖ Completed, ‚è≥ In Progress, üî¥ Blocked

**Formatting rules:**
- Use exact structure as defined in sections above
- Date format: YYYY-MM-DD
- Status icons: ‚úÖ ‚è≥ üî¥
- Links use `@[ARTIFACT_NAME]` notation
- Keep "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è" to maximum 5 entries
- Clear temporary information when step completes

**Update triggers:**
- Starting new step (add current task focus)
- Discovering blocker (document blocker state)
- Completing step (prepare for cleanup)
- Making intermediate decision (document decision)
- Significant context change (update active context)

**When to use this file:**
- When checking current work state
- When tracking temporary notes and decisions
- When navigating to current context
- When documenting intermediate decisions
- When tracking work progress

**Related artifacts:**
- `IMPROVEMENT_PLAN.md` - for understanding current phase/step
- `IMPROVEMENT_QUESTIONS.md` - for checking active questions
- `IMPROVEMENT_CHANGELOG.md` - for history of completed work
